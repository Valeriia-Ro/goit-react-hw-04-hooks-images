(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3_rsu",Modal:"Modal_Modal__2_z7i"}},22:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1GlZQ"}},23:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__30gG0"}},25:function(e,t,a){e.exports={body:"Button_body__2AGb0",Button:"Button_Button__qJM_J"}},6:function(e,t,a){e.exports={SearchForm:"SearchForm_SearchForm__2kUWA",SearchForm_button:"SearchForm_SearchForm_button__2Q9X6","SearchForm_button-label":"SearchForm_SearchForm_button-label__XD7B0",SearchForm_input:"SearchForm_SearchForm_input__3HKqq"}},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(21),o=a.n(r),l=a(12),i=a(4),s=a(11),u=a.n(s),m=a(1);function b(e){var t=e.onClose;Object(n.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&(console.log("close modal"),t())};return Object(m.jsx)("div",{className:u.a.Overlay,onClick:function(e){console.log("bkdr ckick"),e.currentTarget===e.target&&t()},children:Object(m.jsx)("div",{className:u.a.Modal,children:""})})}var h=function(e){var t=e.children;return Object(m.jsx)("div",{children:t})},j=a(22),d=a.n(j),f=a(6),_=a.n(f);function g(e){e.onSearch;var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],r=a[1];return Object(m.jsx)("header",{onSubmit:function(e){e.preventDefault(),""!==c.trim()||alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443")},className:d.a.Searchbar,children:Object(m.jsxs)("form",{className:_.a.SearchForm,children:[Object(m.jsx)("button",{type:"submit",className:_.a.SearchForm_button,children:Object(m.jsx)("span",{className:_.a.SearchForm_button_label})}),Object(m.jsx)("input",{className:_.a.SearchForm_input,type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){r({searchImage:e.currentTarget.value.toLowerCase()})}})]})})}var O=a(23),p=a.n(O),S=a(8),x=a.n(S),v=function(e){var t=e.url,a=e.alt;return Object(m.jsx)("img",{src:t,alt:a,className:x.a.ImageGalleryItem_image})},y=function(e){var t=e.images,a=e.openModal;return Object(m.jsx)("ul",{className:p.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.tags,r=e.largeImageURL;return Object(m.jsx)("li",{className:x.a.ImageGalleryItem,onClick:function(){a(r,c)},children:Object(m.jsx)(v,{url:n,alt:c})},t)}))})},I=a(24),w=a.n(I),F=function(e){var t=e.searchImage,a=void 0===t?"":t,n=e.currentPage,c=void 0===n?1:n;return w.a.get("".concat("https://pixabay.com/api","/?q=").concat(a,"&page=").concat(c,"&key=").concat("21418455-02afedd09f38bf37a8407aa32","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},k=a(25),G=a.n(k),M=function(e){var t=e.onClick;return Object(m.jsx)("button",{type:"button",className:G.a.Button,onClick:t,children:"Load more"})},N=a(26),C=a.n(N),B=function(){return Object(m.jsx)("div",{className:"spinner-conteiner",children:Object(m.jsx)(C.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})};a(71);function E(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(i.a)(r,1)[0],s=Object(n.useState)([]),u=Object(i.a)(s,2),j=u[0],d=u[1],f=Object(n.useState)(!1),_=Object(i.a)(f,2),O=_[0],p=_[1],S=Object(n.useState)(""),x=Object(i.a)(S,2),v=x[0],I=(x[1],Object(n.useState)("")),w=Object(i.a)(I,2),k=w[0],G=(w[1],Object(n.useState)(1)),N=Object(i.a)(G,2),C=N[0],E=N[1],L=Object(n.useState)(null),q=Object(i.a)(L,2),J=q[0],A=q[1];Object(n.useEffect)((function(e){e.searchImage!==o&&P()}));var P=function(){var e={searchImage:o,currentPage:C};p({loading:!0}),F(e).then((function(e){d((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e))})),E((function(e){return[e+1]})),T()})).catch((function(e){return A({error:e})})).finally((function(){return p({loading:!1})}))},T=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},U=j.length>0&&!O;return Object(m.jsxs)(h,{children:[Object(m.jsx)(g,{}),J&&Object(m.jsx)("h1",{children:" Something went wrong"}),Object(m.jsx)(y,{images:j,openModal:function(e,t){c((function(a){return{showModal:!a.showModal,modalImg:e,modalAlt:t}}))}}),O&&Object(m.jsx)(B,{}),U&&Object(m.jsx)(M,{onClick:P}),a&&Object(m.jsx)(b,{onClose:function(){c((function(e){return{showModal:!e.showModal}}))},children:Object(m.jsx)("img",{src:v,alt:k})})]})}o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__Z3sw5",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1Nw2W"}}},[[72,1,2]]]);
//# sourceMappingURL=main.d1d5e818.chunk.js.map