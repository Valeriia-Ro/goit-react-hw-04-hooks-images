(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3_rsu",Modal:"Modal_Modal__2_z7i"}},22:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1GlZQ"}},23:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__30gG0"}},25:function(e,t,a){e.exports={body:"Button_body__2AGb0",Button:"Button_Button__qJM_J"}},6:function(e,t,a){e.exports={SearchForm:"SearchForm_SearchForm__2kUWA",SearchForm_button:"SearchForm_SearchForm_button__2Q9X6","SearchForm_button-label":"SearchForm_SearchForm_button-label__XD7B0",SearchForm_input:"SearchForm_SearchForm_input__3HKqq"}},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(21),r=a.n(o),l=a(12),i=a(4),s=a(11),u=a.n(s),m=a(1);function b(e){var t=e.picture,a=e.alt,n=e.onClose;Object(c.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){console.log("close ckick"),e.currentTarget!==e.target&&"Escape"!==e.code||n()};return Object(m.jsx)("div",{className:u.a.Overlay,onClick:o,children:Object(m.jsx)("div",{className:u.a.Modal,children:Object(m.jsx)("img",{src:t,alt:a})})})}var j=function(e){var t=e.children;return Object(m.jsx)("div",{children:t})},h=a(22),g=a.n(h),_=a(6),d=a.n(_);function O(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(i.a)(a,2),o=n[0],r=n[1];return Object(m.jsx)("header",{className:g.a.Searchbar,children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o?(t(o),console.log(o)):alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443")},className:d.a.SearchForm,children:[Object(m.jsx)("button",{type:"submit",className:d.a.SearchForm_button,children:Object(m.jsx)("span",{className:d.a.SearchForm_button_label})}),Object(m.jsx)("input",{className:d.a.SearchForm_input,type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",onChange:function(e){var t=e.currentTarget.value.trim();r(t),console.log(t)},value:o})]})})}var f=a(23),p=a.n(f),S=a(8),x=a.n(S),v=function(e){var t=e.url,a=e.alt;return Object(m.jsx)("img",{src:t,alt:a,className:x.a.ImageGalleryItem_image})},y=function(e){var t=e.images,a=e.openModal;return Object(m.jsx)("ul",{className:p.a.ImageGallery,children:t.map((function(e){var c=e.id,n=e.webformatURL,o=e.tags,r=e.largeImageURL;return Object(m.jsx)("li",{className:x.a.ImageGalleryItem,onClick:function(){a(r,o)},children:Object(m.jsx)(v,{images:t,url:n,alt:o})},c)}))})},I=a(24),F=a.n(I),w=function(e){var t=e.searchImage,a=void 0===t?"":t,c=e.currentPage,n=void 0===c?1:c;return F.a.get("".concat("https://pixabay.com/api","/?q=").concat(a,"&page=").concat(n,"&key=").concat("21418455-02afedd09f38bf37a8407aa32","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},k=a(25),G=a.n(k),N=function(e){var t=e.onClick;return Object(m.jsx)("button",{type:"button",className:G.a.Button,onClick:t,children:"Load more"})},M=a(26),B=a.n(M),C=function(){return Object(m.jsx)("div",{className:"spinner-conteiner",children:Object(m.jsx)(B.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})};a(71);function E(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(""),r=Object(i.a)(o,2),s=r[0],u=r[1],h=Object(c.useState)([]),g=Object(i.a)(h,2),_=g[0],d=g[1],f=Object(c.useState)(!1),p=Object(i.a)(f,2),S=p[0],x=p[1],v=Object(c.useState)(""),I=Object(i.a)(v,2),F=I[0],k=I[1],G=Object(c.useState)(""),M=Object(i.a)(G,2),B=M[0],E=M[1],L=Object(c.useState)(1),q=Object(i.a)(L,2),J=q[0],P=q[1],T=Object(c.useState)(null),U=Object(i.a)(T,2),z=U[0];U[1];Object(c.useEffect)((function(){""===s&&1===J||w({searchImage:s,currentPage:J}).then((function(e){d(1===J?e:function(t){return[].concat(Object(l.a)(t),Object(l.a)(e))}),A()})).catch((function(e){console.log(e),alert(e)}))}),[s,J]);var A=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},D=function(e){if(e){var t={picture:e},c={alt:e};E(c),k(t),console.log(t),console.log(c)}n(!a),console.log(F)};return Object(m.jsxs)(j,{children:[Object(m.jsx)(O,{onSubmit:function(e){u(e),d([]),P(1)}}),z&&Object(m.jsx)("h1",{children:" Something went wrong"}),Object(m.jsx)(y,{images:_,openModal:D}),S&&Object(m.jsx)(C,{}),function(){x(!S)}&&Object(m.jsx)(N,{onClick:function(){P(J+1)}}),a&&Object(m.jsx)(b,{onClose:D,children:Object(m.jsx)("img",{picture:F,alt:B})})]})}r.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__Z3sw5",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1Nw2W"}}},[[72,1,2]]]);
//# sourceMappingURL=main.5afe999b.chunk.js.map